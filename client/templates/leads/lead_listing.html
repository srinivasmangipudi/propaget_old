<template name="leadListing">
	<button id="createlead" class="btn btn-primary">Create Lead</button>
	<button id="closeCreatelead" class="btn btn-small btn-danger pull-right" style="display:none;">Close</button>
	{{> createEditLead title="Create Lead"}}

  <h1>Leads</h1>
	<table class="table table-bordered">
    <thead><tr>
      <th></th>
    	<th>Title</th>
    	<th>Category</th>
      <th>Type</th>
      <th>Date</th>
      <th>Delete</th>
    </tr></thead>
    		
		<tbody>{{#each leads}}
      <tr>
        <td>
	        <div class="dilemma-action-buttons">
						<a href="/lead/{{_id}}/edit" class="edit btn btn-default" style="color:#33CCFF;" title="Edit">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</a>
					</div>
				</td>
   		 	<td><a href="/lead/{{_id}}">{{title}}</a></td>
      	<td>{{category}}</td>
        <td>{{type}}</td>
        <td>{{createdAt}}</td>
      	<td><div class="dilemma-action-buttons">
					<a href="#" class="edit btn btn-default" style="color:#33CCFF;" title="Delete" data-toggle="modal" data-target="#myModal-{{_id}}">
						<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
					</a>
				</div>
       {{ > confirmationModal content="This action cannot be undone. It will delete the lead once you click yes" title="Are you sure?" id=_id}}
				</td>
      </tr>
    {{/each}}</tbody>
  </table>
  
  {{#if morePost}}<button class="give-me-more bt-default btn">More Leads</button>{{/if}}
</template>

<template name="confirmationModal">
<div class="modal fade" id="myModal-{{id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">{{title}}</h4>
      </div>
      <div class="modal-body">
        {{content}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default delete-item" data-delete-id="{{id}}">Yes</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>
      </div>
    </div>
  </div>
</div>
</template>